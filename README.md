# SCDC Lab PRL Suite (Reproducible)

This repository is a **clean, reproducible** experiment suite for the SCDC “consistency-driven” causal-graph model and the accompanying PRL-style manuscript draft in `paper/prl_draft.tex`.

It is designed so that:
- every plot/table in the draft can be regenerated from command-line runs,
- every run is seeded and produces a machine-readable `*_summary.json`,
- aggregation/figures are produced by scripts in `analysis/`.

---

## What this suite demonstrates (in its current, reproducible form)

### 1) Emergent causal geometry from a local “consistency” energy
Starting from a random **layered DAG**, we anneal the graph using a **motif-based local energy** (`--energy_mode motif`). The resulting graphs typically show:
- **polynomial light-cone growth** for many sources, and
- an **effective dimension** `d_eff` extracted from light-cone volume scaling.

### 2) Transport regimes in a disordered causal medium
From the unified run summaries, we can classify horizon-limited excitations into three operational regimes based on the light-cone volume at a fixed horizon (default `t=8`):

- **Dead (“ice”)**: `V(t=8) < 5`
- **Localized (“matter-like”)**: `5 ≤ V(t=8) ≤ 20`
- **Shockwave (“fire”)**: `V(t=8) > 20`

In the sample batch (`runs.zip`), the **critical window** around `p_forward ≈ 0.12` shows a **discrete set of allowed volumes** and a pronounced **forbidden gap** between low-volume and high-volume outcomes (see `analysis/aggregate_unified_runs.py`).

This is the most defensible way to express the “semi-conductor / filament” hypothesis in a PRL-tone:
> the geometry behaves like a disordered medium with blocked regions, open channels, and rare trapping structures that support short-lived, localized excitations.

### 3) Non-trivial braid-image symmetry (H2)
The H2 scripts compute finite groups generated by braid-image maps (mod p) and check basic invariants (order, abelianity, etc.). The suite reproduces a **non-Abelian group of order 26208** in a representative N=3 configuration (details in the PRL draft).

### 4) H3 “generations” spectral probe (exploratory)
The H3 script performs spectral clustering and compares to degree-preserving nulls. **Current outputs do not robustly support “k=3 generations”** across nulls/seeds; treat H3 as *exploratory* unless you extend the sweep and add significance testing.

---

## Repository layout

- `scdc_lab/`  
  Core code + experiments.
- `paper/`  
  `prl_draft.tex` and `refs.bib`.
- `analysis/`  
  Aggregation and plotting scripts that turn run logs into figures/tables.
- `scripts/`  
  Convenience bash scripts for repeatable batches.

---

## Installation

```bash
python -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt
```

(If you are running on a cluster, pin your python version and freeze deps with `pip freeze > requirements-lock.txt`.)

---

## Quickstart: reproduce the transport-regime table and spectrum figure

This runs a small batch at `p_forward ∈ {0.12, 0.14}` (5 seeds each), then aggregates into CSV + figures.

```bash
bash scripts/run_prl_transport_figures.sh
```

Outputs land in:
- `results/run_level_transport.csv`
- `results/lightcone_level_transport.csv`
- `results/pf_level_transport.csv`
- `results/fig_transport_regimes.png`
- `results/fig_volume_spectrum_pf012_pf014.png`

---

## Running the unified experiment directly (single run)

```bash
python -m scdc_lab.experiments.unified_consistency_universe   --graph_type layered --n 500 --layers 100   --p_forward 0.12 --p_skip2 0.02 --p_skip3 0.005   --energy_mode motif --genesis_steps 1500   --knot_k 20 --knot_density 0.9   --rule threshold --threshold 2 --steps 120   --seed 1 --out_prefix runs/pf0.12_seed1
```

This writes (with the chosen prefix):
- `runs/pf0.12_seed1_summary.json`
- `runs/pf0.12_seed1_spacetime.png`
- `runs/pf0.12_seed1_geodesics.png`

---

## Aggregating your batch into the PRL “evidence” plots

After you have a directory of `*_summary.json` files:

```bash
python analysis/aggregate_unified_runs.py --runs_dir runs --out_dir results
```

You can change the regime thresholds if you want to stress-test the claims:

```bash
python analysis/aggregate_unified_runs.py --runs_dir runs --dead_lt 6 --loc_le 24
```

---

## H1: radiation / detector demo (and the “vacuum” mode)

The H1 radiation demo is a separate experiment that propagates an active set through a layered causal graph and records “detector hits.”

```bash
python -m scdc_lab.experiments.h1_radiation_search   --graph_type layered --n 500 --layers 100   --p_forward 0.05 --p_skip 0.02   --knot_k 20 --knot_density 0.9   --rule xor --steps 200   --excite ones --seed 3 --csv h1_rad_knot_impulse.csv
```

Negative control (no knot):

```bash
python -m scdc_lab.experiments.h1_radiation_search   --graph_type layered --n 500 --layers 100   --p_forward 0.05 --p_skip 0.02   --knot_k 0   --rule xor --steps 200   --excite ones --seed 3 --csv h1_rad_noknot_impulse.csv
```

**New in this suite:** `--excite vacuum` is accepted as a true “all-vacuum” initialization (useful with `--kick_tick/--kick_frac`).

---

## H2: symmetry quotients

```bash
python -m scdc_lab.experiments.h2_symmetry_quotients --help
python -m scdc_lab.experiments.find_standard_model --help
```

---

## H3: spectral probe (exploratory)

```bash
python -m scdc_lab.experiments.h3_generations_spectral --help
```

If you want to elevate H3 into a PRL-grade claim, you will need (at minimum):
- parameter sweeps (p_forward, p_skip2, p_skip3, N, layers),
- multiple null families,
- a stability metric for `best_k` across seeds,
- a statistical test comparing base vs null cluster structure.

---

## Reproducibility checklist

- Always set `--seed`.
- Record the full CLI used for each run (copy/paste it into the run directory).
- Report `python --version` and `pip freeze` with the paper.
- Use the scripts in `analysis/` to regenerate figures from the saved summaries.

---

## Scientific caution (important for the PRL draft tone)

The suite supports strong claims about:
- emergent low-dimensional causal structure,
- regime-separated transport behavior,
- discrete, geometry-driven outcome bands near a critical density.

It does **not** (yet) support an unqualified claim that “quantum mechanics” or “three generations” have been reproduced.
In the manuscript we therefore frame the bands as **transport resonances / quasi-particles** and label deeper Standard-Model analogies as hypotheses to be tested.

